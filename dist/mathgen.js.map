{"version":3,"sources":["../mathgen.js"],"names":["Array","prototype","remove","element","i","length","splice","removeIndex","index","ts","Typeson","register","Operator","Addition","Subtraction","Multiplication","Division","Expression","RandRange","RandRangeAdv","Rule","OperatorGen","Generator","generator","app","Vue","el","data","methods","addOperator","operator","operators","push","generate","results","$Notice","open","title","desc","toString","replace","duration","save","json","stringify","$copyText","load","parse","showLoadModal","$Modal","confirm","render","h","props","value","autofocus","placeholder","type","autosize","on","input","val","width","scrollable","onOk"],"mappings":";;AAAAA,MAAMC,SAAN,CAAgBC,MAAhB,GAAyB,UAASC,OAAT,EAAkB;AACvC,SAAI,IAAIC,IAAI,KAAKC,MAAL,GAAY,CAAxB,EAA2BD,GAA3B,GAAiC;AAC7B,YAAG,KAAKA,CAAL,MAAYD,OAAf,EAAwB,KAAKG,MAAL,CAAYF,CAAZ,EAAe,CAAf;AAC3B;AACJ,CAJD;AAKAJ,MAAMC,SAAN,CAAgBM,WAAhB,GAA8B,UAASC,KAAT,EAAgB;AAC1C,SAAKF,MAAL,CAAYE,KAAZ,EAAmB,CAAnB;AACH,CAFD;;AAIA,IAAMC,KAAK,IAAIC,OAAJ,GAAcC,QAAd,CAAuB;AAC9BC,cAASA,QADqB;AAE9BC,cAASA,QAFqB;AAG9BC,iBAAYA,WAHkB;AAI9BC,oBAAeA,cAJe;AAK9BC,cAASA,QALqB;AAM9BC,gBAAWA,UANmB;AAO9BC,eAAUA,SAPoB;AAQ9BC,kBAAaA,YARiB;AAS9BC,UAAKA,IATyB;AAU9BC,iBAAYA,WAVkB;AAW9BC,eAAUA;AAXoB,CAAvB,CAAX;;AAcA,IAAMC,YAAY,IAAID,SAAJ,CAAc,CAAd,EAAiB,CAAjB,CAAlB;;AAEA,IAAME,MAAM,IAAIC,GAAJ,CAAQ;AAChBC,QAAI,MADY;AAEhBC,UAAM;AACFJ,mBAAWA;AADT,KAFU;AAKhBK,aAAS;AACLC,qBAAa,qBAAUC,QAAV,EAAoB;AAC7BP,sBAAUQ,SAAV,CAAoBC,IAApB,CAAyB,IAAIX,WAAJ,CAAgBS,QAAhB,EAA0B,IAAIZ,SAAJ,CAAc,CAAd,EAAiB,GAAjB,EAAsB,CAAtB,EAAyB,GAAzB,EAA8B,KAA9B,CAA1B,CAAzB;AACH,SAHI;AAILe,kBAAU,oBAAY;AAClB,gBAAIC,UAAUX,UAAUU,QAAV,CAAmB,EAAnB,CAAd;AACA,iBAAKE,OAAL,CAAaC,IAAb,CAAkB;AACdC,uBAAO,IADO;AAEdC,sBAAMJ,QAAQK,QAAR,GAAmBC,OAAnB,CAA2B,IAA3B,EAAiC,MAAjC,CAFQ;AAGdC,0BAAU;AAHI,aAAlB;AAKH,SAXI;AAYLC,cAAM,gBAAY;AACd,gBAAIC,OAAOlC,GAAGmC,SAAH,CAAarB,UAAUQ,SAAvB,CAAX;AACA,iBAAKI,OAAL,CAAaC,IAAb,CAAkB;AACdC,uBAAO,kBADO;AAEdC,sBAAMK,IAFQ;AAGdF,0BAAU;AAHI,aAAlB;AAKA,iBAAKI,SAAL,CAAeF,IAAf;AACH,SApBI;AAqBLG,cAAM,cAAUH,IAAV,EAAgB;AAClBpB,sBAAUQ,SAAV,GAAsBtB,GAAGsC,KAAH,CAASJ,IAAT,CAAtB;AACA,iBAAKR,OAAL,CAAaC,IAAb,CAAkB;AACdC,uBAAO,SADO;AAEdI,0BAAU;AAFI,aAAlB;AAIH,SA3BI;AA4BLO,uBAAe,yBAAY;AAAA;;AACvB,iBAAKC,MAAL,CAAYC,OAAZ,CAAoB;AAChBC,wBAAQ,gBAACC,CAAD,EAAO;AACX,2BAAOA,EAAE,OAAF,EAAW;AACdC,+BAAO;AACHC,mCAAO,MAAKA,KADT;AAEHC,uCAAW,IAFR;AAGHC,yCAAa,QAHV;AAIHC,kCAAM,UAJH;AAKHC,sCAAU;AALP,yBADO;AAQdC,4BAAI;AACAC,mCAAO,eAACC,GAAD,EAAS;AACZ,sCAAKP,KAAL,GAAaO,GAAb;AACH;AAHD;AARU,qBAAX,CAAP;AAcH,iBAhBe;AAiBhBC,uBAAO,GAjBS;AAkBhBC,4BAAY,IAlBI;AAmBhBC,sBAAM;AAAA,2BAAM,MAAKlB,IAAL,CAAU,MAAKQ,KAAf,CAAN;AAAA;AAnBU,aAApB;AAqBH;AAlDI;AALO,CAAR,CAAZ","file":"mathgen.js","sourcesContent":["Array.prototype.remove = function(element) {\r\n    for(let i = this.length-1; i--;) {\r\n        if(this[i] === element) this.splice(i, 1);\r\n    }\r\n};\r\nArray.prototype.removeIndex = function(index) {\r\n    this.splice(index, 1);\r\n};\r\n\r\nconst ts = new Typeson().register({\r\n    Operator:Operator,\r\n    Addition:Addition,\r\n    Subtraction:Subtraction,\r\n    Multiplication:Multiplication,\r\n    Division:Division,\r\n    Expression:Expression,\r\n    RandRange:RandRange,\r\n    RandRangeAdv:RandRangeAdv,\r\n    Rule:Rule,\r\n    OperatorGen:OperatorGen,\r\n    Generator:Generator\r\n});\r\n\r\nconst generator = new Generator(1, 1);\r\n\r\nconst app = new Vue({\r\n    el: '#app',\r\n    data: {\r\n        generator: generator,\r\n    },\r\n    methods: {\r\n        addOperator: function (operator) {\r\n            generator.operators.push(new OperatorGen(operator, new RandRange(0, 100, 0, 100, false)));\r\n        },\r\n        generate: function () {\r\n            let results = generator.generate(10);\r\n            this.$Notice.open({\r\n                title: '算式',\r\n                desc: results.toString().replace(/,/g, '<br>'),\r\n                duration: 0\r\n            });\r\n        },\r\n        save: function () {\r\n            let json = ts.stringify(generator.operators);\r\n            this.$Notice.open({\r\n                title: 'JSON数据 - 已复制到剪贴板',\r\n                desc: json,\r\n                duration: 5\r\n            });\r\n            this.$copyText(json);\r\n        },\r\n        load: function (json) {\r\n            generator.operators = ts.parse(json);\r\n            this.$Notice.open({\r\n                title: '已加载JSON',\r\n                duration: 3\r\n            });\r\n        },\r\n        showLoadModal: function () {\r\n            this.$Modal.confirm({\r\n                render: (h) => {\r\n                    return h('Input', {\r\n                        props: {\r\n                            value: this.value,\r\n                            autofocus: true,\r\n                            placeholder: 'JSON数据',\r\n                            type: 'textarea',\r\n                            autosize: true\r\n                        },\r\n                        on: {\r\n                            input: (val) => {\r\n                                this.value = val;\r\n                            }\r\n                        }\r\n                    })\r\n                },\r\n                width: 800,\r\n                scrollable: true,\r\n                onOk: () => this.load(this.value)\r\n            })\r\n        }\r\n    }\r\n});"]}